# 樱花博客 - 使用指南

## 项目已创建完成！✨

项目结构已按照文档要求完整创建，包含前端、后端和完整的功能模块。

## 快速启动

### 1. 启动后端服务

```bash
cd backend
python manage.py runserver
```

后端将运行在：`http://127.0.0.1:8000`

### 2. 启动前端服务

打开新的终端窗口：

```bash
cd frontend
npm run dev
```

前端将运行在：`http://localhost:5173`

## 管理后台

### 访问地址
`http://127.0.0.1:8000/admin`

### 登录信息
- 用户名：`admin`
- 密码：`admin123`

## 已完成的功能

### ✅ 后端功能
- Django项目结构完整
- 9个数据模型（用户信息、轮播图、作品、爱好、游戏、游戏截图、音乐、动漫、动漫截图）
- RESTful API接口（7个ViewSet）
- Django Admin后台管理
- 跨域配置
- 媒体文件处理
- 测试数据已初始化

### ✅ 前端功能
- Vue3 + Vite项目结构
- 樱花飘落动画组件
- 轮播图组件（自动切换、手动控制）
- 个人信息卡片组件
- 作品展示组件
- 爱好标签页组件（游戏、音乐、动漫）
- **游戏展示组件**（卡片展示、详情弹窗、截图画廊）
- **音乐播放器组件**（网易云风格、旋转唱片、播放列表）
- **动漫展示组件**（海报墙、详情弹窗、截图画廊）
- 响应式布局
- Tailwind CSS样式
- 路由配置
- Axios封装

## 数据管理

### 上传图片
由于初始化数据使用了占位符，您需要在后台上传实际图片：

1. 访问 `http://127.0.0.1:8000/admin`
2. 登录后台
3. 分别进入各个模块上传图片：
   - **轮播图**：建议上传 1920x1080 的二次元风格图片（3张）
   - **个人头像**：建议上传 300x300 的正方形图片
   - **作品封面**：建议上传 600x400 的项目截图
   - **游戏封面**：建议上传 400x600 的游戏封面（3张）
   - **游戏截图**：在游戏详情页内联添加截图
   - **音乐封面**：建议上传 300x300 的专辑封面（3张）
   - **动漫封面**：建议上传 300x420 的动漫海报（3张）
   - **动漫截图**：在动漫详情页内联添加截图

### 修改个人信息
在后台的"个人信息"模块中，可以修改：
- 头像
- 姓名
- 简介
- 简历（JSON格式）
- 联系方式（JSON格式）

#### 简历格式示例
```json
[
  {"type":"education","content":"XX大学 计算机专业 2018-2022"},
  {"type":"work","content":"XX公司 前端开发 2022-至今"}
]
```

#### 联系方式格式示例
```json
[
  {"type":"email","icon":"fa-envelope","url":"mailto:your@email.com","text":"your@email.com"},
  {"type":"github","icon":"fa-github","url":"https://github.com/username","text":"GitHub"},
  {"type":"wechat","icon":"fa-weixin","url":"#","text":"微信: your_wechat"}
]
```

## API接口

所有接口都在 `/api/` 路径下：

- `GET /api/userinfo/current/` - 获取当前用户信息
- `GET /api/carousel/` - 获取轮播图列表
- `GET /api/works/` - 获取作品列表
- `GET /api/hobbies/` - 获取爱好分类列表
- `GET /api/games/` - 获取游戏列表（含截图）
- `GET /api/music/` - 获取音乐列表
- `GET /api/anime/` - 获取动漫列表（含截图）

## 项目特色

### 🌸 樱花主题
- 樱花飘落动画效果
- 粉色系配色方案
- 渐变背景效果
- 呼吸动画

### 🎨 精美UI
- 卡片式设计
- 悬停动画效果
- 渐入渐出过渡
- 响应式布局

### 📱 响应式设计
- PC端：完整布局
- 平板：自适应调整
- 手机：单列布局

## 技术栈

### 前端
- Vue 3.3+ (Composition API)
- Vue Router 4
- Axios
- Tailwind CSS
- Anime.js
- Font Awesome

### 后端
- Django 5.2+
- Django REST Framework
- SQLite (开发环境)

## 开发建议

### 1. 图片优化
- 使用压缩后的图片
- 推荐格式：WebP 或 JPG
- 控制文件大小在 500KB 以内

### 2. 性能优化
- 樱花动画已做性能优化
- PC端：20片花瓣
- 移动端：10片花瓣

### 3. 自定义配置
- 修改 `frontend/tailwind.config.js` 调整主题色
- 修改 `frontend/src/components/CherryBlossomAnimation.vue` 调整动画参数

## 常见问题

### Q: 图片无法显示？
A: 确保已在后台上传图片，并且Django服务正在运行。

### Q: 前端无法连接后端？
A: 检查后端服务是否在 8000 端口运行，前端代理配置在 `vite.config.js` 中。

### Q: 如何修改端口？
A: 
- 后端：`python manage.py runserver 端口号`
- 前端：修改 `vite.config.js` 中的 `server.port`

### Q: 如何切换到MySQL？
A: 
1. 安装 mysqlclient：`pip install mysqlclient`
2. 创建数据库（参考README.md）
3. 修改 `backend/blog_backend/settings.py` 中的数据库配置
4. 重新运行迁移命令

## 部署说明

### 前端部署
```bash
cd frontend
npm run build
```
将 `dist` 目录部署到静态服务器。

### 后端部署
1. 修改 `settings.py`：
   - `DEBUG = False`
   - 设置 `ALLOWED_HOSTS`
   - 配置生产数据库

2. 使用 Gunicorn：
```bash
pip install gunicorn
gunicorn blog_backend.wsgi:application
```

## 下一步

1. ✅ 启动后端和前端服务
2. ✅ 登录后台管理系统
3. ✅ 上传实际图片
4. ✅ 修改个人信息
5. ✅ 在浏览器中查看效果

## 技术支持

如遇到问题，请检查：
1. Python 和 Node.js 版本是否符合要求
2. 依赖是否正确安装
3. 端口是否被占用
4. 控制台是否有错误信息

---

**祝您使用愉快！🌸**

如有任何问题，欢迎随时询问。


## 🎮 新增功能详解

### 游戏模块
**功能特性：**
- 游戏卡片网格展示
- 5星评分系统
- 游玩时长显示
- 点击卡片查看详情
- 游戏截图画廊
- 点击截图全屏查看

**使用方法：**
1. 进入后台"游戏"模块
2. 点击"添加游戏"
3. 填写游戏名称、描述、游玩时长、评分
4. 上传游戏封面
5. 在下方"游戏截图"区域添加多张截图
6. 保存后前端自动显示

### 音乐模块
**功能特性：**
- 网易云音乐风格设计
- 旋转唱片封面动画
- 唱针摆动效果
- 播放/暂停/上一曲/下一曲
- 进度条拖动
- 音量控制
- 播放列表
- 点击列表切歌

**使用方法：**
1. 进入后台"音乐"模块
2. 点击"添加音乐"
3. 填写歌曲名称、艺术家、专辑
4. 上传专辑封面（建议正方形）
5. 填写音频链接（网易云外链或其他音频URL）
6. 填写歌曲时长（格式：03:45）
7. 保存后前端自动显示

**获取音乐外链：**
- 网易云音乐：使用外链生成工具
- 或使用其他音频托管服务

### 动漫模块
**功能特性：**
- 动漫海报墙展示
- 5星评分系统
- 年份和状态标签
- 悬停显示评分
- 点击查看详情
- 精彩截图画廊
- 截图放大查看

**使用方法：**
1. 进入后台"动漫"模块
2. 点击"添加动漫"
3. 填写动漫名称、简介、年份、评分、状态
4. 上传动漫封面
5. 在下方"动漫截图"区域添加多张截图
6. 保存后前端自动显示

### 爱好标签页
**功能特性：**
- 三个标签页切换（游戏、音乐、动漫）
- 平滑过渡动画
- 图标+文字按钮
- 激活状态高亮

**使用方法：**
- 点击顶部标签按钮切换不同模块
- 游戏标签：显示游戏收藏
- 音乐标签：显示音乐播放器
- 动漫标签：显示动漫收藏

## 🎨 设计特色

### 樱花主题
- 樱花飘落动画（PC端20片，移动端10片）
- 粉色系配色（#FFB7C5, #FF69B4）
- 渐变背景效果
- 呼吸动画

### 交互动画
- 卡片悬停放大
- 弹窗滑入效果
- 唱片旋转动画
- 唱针摆动动画
- 标签页切换过渡
- 图片缩放效果

### 响应式设计
- PC端：多列网格布局
- 平板：自适应调整
- 手机：单列堆叠布局

## 📝 内容管理技巧

### 图片优化建议
1. **压缩图片**：使用TinyPNG等工具压缩
2. **合适尺寸**：按推荐尺寸准备图片
3. **格式选择**：JPG适合照片，PNG适合图标
4. **文件大小**：单张图片控制在500KB以内

### 音乐配置建议
1. **音频格式**：MP3格式兼容性最好
2. **音质选择**：128-320kbps
3. **外链稳定性**：选择稳定的音频托管服务
4. **版权注意**：使用有授权的音乐

### 内容更新流程
1. 登录后台管理
2. 选择要修改的模块
3. 编辑或添加内容
4. 上传图片/填写信息
5. 保存后刷新前端页面查看效果

## 🔧 高级配置

### 修改樱花动画参数
编辑 `frontend/src/components/CherryBlossomAnimation.vue`：
```javascript
const petalCount = 20  // 花瓣数量（PC端）
const duration = 8000  // 飘落时长（毫秒）
```

### 修改轮播间隔
编辑 `frontend/src/components/Carousel.vue`：
```javascript
autoPlayTimer = setInterval(next, 5000)  // 5秒切换
```

### 修改主题色
编辑 `frontend/tailwind.config.js`：
```javascript
colors: {
  'sakura-pink': '#FFB7C5',    // 樱花粉
  'sakura-light': '#FFF0F5',   // 浅粉
  'sakura-dark': '#FF69B4',    // 深粉
}
```

## 🐛 常见问题解决

### Q: 音乐无法播放？
A: 
1. 检查音频链接是否有效
2. 确认浏览器允许自动播放
3. 尝试手动点击播放按钮
4. 检查音频格式是否支持

### Q: 图片显示不完整？
A: 
1. 检查图片尺寸是否合适
2. 确认图片已成功上传
3. 刷新浏览器缓存
4. 检查图片文件是否损坏

### Q: 截图无法添加？
A: 
1. 确保先保存主记录（游戏/动漫）
2. 在编辑页面添加截图
3. 每次添加后点击保存
4. 检查图片大小是否超限

### Q: 标签页切换卡顿？
A: 
1. 减少同时显示的内容数量
2. 优化图片大小
3. 关闭其他占用资源的程序
4. 使用现代浏览器

## 📊 项目统计

- **数据模型**：9个
- **API接口**：7个
- **前端组件**：8个
- **功能模块**：7个
- **代码行数**：约4300行

---

**项目已完全开发完成，祝您使用愉快！🌸**
