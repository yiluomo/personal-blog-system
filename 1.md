# 个人博客项目开发文档（完整版）


## 文档说明
本文档为“樱花主题个人博客”项目的开发指导文档，旨在规范开发流程、明确功能模块设计及技术实现思路。项目采用 **Vue3（前端）+ Django（后端）+ MySQL（数据库）** 技术栈，需在本地Anaconda虚拟环境中开发，最终实现包含个人信息展示、作品陈列、爱好介绍及樱花主题动画的个人博客页面。


## 一、项目概述
### 1.1 项目目标
开发一个视觉风格为“樱花林”的个人博客页面，具备以下核心功能：
- 首页全屏轮播（展示3张二次元美少女图片，支持切换）
- 个人信息展示（含基础信息、简历经历、联系方式及跳转功能）
- 作品展示（卡片式布局，支持详情查看）
- 爱好展示（聚焦游戏、音乐、动漫三类爱好，含动态效果）
- 樱花主题视觉效果（樱花林背景、樱花飘落动画、风格统一的组件设计）

### 1.2 技术栈
| 模块       | 技术选择                          | 说明                                  |
|------------|-----------------------------------|---------------------------------------|
| 前端       | Vue3（Composition API）、Vue Router、Axios、Tailwind CSS、Anime.js | 实现页面交互与动画效果                |
| 后端       | Django、Django REST Framework     | 提供数据接口、后台管理功能            |
| 数据库     | MySQL                          | 存储个人信息、作品、爱好等数据        |
| 开发环境   | Anaconda 虚拟环境 | 隔离项目依赖，确保环境一致性          |


## 二、开发环境搭建
### 2.1 Anaconda 虚拟环境配置
#### 步骤1：创建虚拟环境
打开Anaconda Prompt，执行以下命令：
```bash
# 创建名为blog_env的虚拟环境（Python 3.9）
conda create -n blog_env python=3.9
# 激活环境
conda activate blog_env
```

#### 步骤2：安装后端依赖
在环境中创建`requirements.txt`文件，内容如下：
```txt
django==4.2
djangorestframework==3.14.0
django-cors-headers==4.0.0  # 解决跨域
mysqlclient==2.2.0          # MySQL连接
pillow==10.1.0              # 图片处理
django-json-widget==1.1.1   # 后台JSON编辑插件
drf-yasg==1.21.7            # 接口文档
```
执行安装命令：
```bash
pip install -r requirements.txt
```

### 2.2 MySQL 数据库配置
#### 步骤1：安装与登录
- 本地安装MySQL 8.0，记录管理员密码（如`root_password`）
- 通过命令行登录：
  ```bash
  mysql -u root -p  # 输入密码后回车
  ```

#### 步骤2：创建数据库与用户
在MySQL命令行中执行：
```sql
-- 创建项目专用数据库（支持中文）
CREATE DATABASE blog_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 创建本地用户（避免直接使用root）
CREATE USER 'blog_user'@'localhost' IDENTIFIED BY 'blog_password';  # 密码自定义

-- 授权用户操作数据库
GRANT ALL PRIVILEGES ON blog_db.* TO 'blog_user'@'localhost';
FLUSH PRIVILEGES;

-- 退出
exit;
```

#### 步骤3：验证配置
重新登录验证：
```bash
mysql -u blog_user -p blog_db  # 输入密码blog_password，能成功进入即配置完成
```


## 三、数据层设计
### 3.1 数据库表结构设计
#### 核心表设计（4张表）
| 表名         | 作用                 | 核心字段设计                                                                 |
|--------------|----------------------|------------------------------------------------------------------------------|
| `user_info`  | 存储个人信息         | `id`（主键）、`avatar`（头像路径）、`name`（姓名）、`intro`（简介）、`resume`（简历，JSON）、`contact`（联系方式，JSON）、`update_time`（更新时间） |
| `carousel`   | 轮播图数据           | `id`（主键）、`image_url`（图片路径）、`sort`（排序序号）、`is_show`（是否显示） |
| `works`      | 作品信息             | `id`（主键）、`title`（标题）、`cover_image`（封面图）、`desc`（描述）、`link`（链接）、`create_time`（创建时间） |
| `hobbies`    | 爱好信息（游戏/音乐/动漫） | `id`（主键）、`name`（名称）、`icon`（图标类名）、`desc`（描述）               |

#### 字段说明（关键字段）
- `user_info.resume`：JSON格式，示例：`[{"type":"education","content":"XX大学 计算机专业 2018-2022"},{"type":"work","content":"XX公司 前端开发 2022-至今"}]`
- `user_info.contact`：JSON格式，示例：`[{"type":"email","icon":"fa-envelope","url":"mailto:xxx@mail.com","text":"xxx@mail.com"},{"type":"github","icon":"fa-github","url":"https://github.com/xxx","text":"GitHub主页"}]`


### 3.2 初始化数据设计
#### 测试数据要求
- `carousel`：初始化3条轮播图数据（路径暂用占位符，后续替换实际图片）
- `hobbies`：固定3条数据（游戏、音乐、动漫，含详细描述）
- `user_info`：1条个人信息（含示例简历、联系方式）
- `works`：3-5条示例作品数据


## 四、后端开发（Django）
### 4.1 项目结构设计
```
blog_backend/                # 项目根目录
├── blog_backend/            # 项目配置目录
│   ├── __init__.py
│   ├── settings.py          # 核心配置（数据库、跨域、媒体文件等）
│   ├── urls.py              # 主路由
│   └── wsgi.py
├── api/                     # 接口应用
│   ├── __init__.py
│   ├── models.py            # 数据模型（对应数据库表）
│   ├── serializers.py       # 数据序列化（接口返回格式）
│   ├── views.py             # 视图（接口逻辑）
│   ├── admin.py             # 后台管理配置
│   └── urls.py              # 接口路由
├── media/                   # 媒体文件（上传的图片）
├── requirements.txt         # 依赖列表
└── manage.py                # Django命令行工具
```


### 4.2 核心模块开发步骤
#### 步骤1：创建项目与应用
在Anaconda环境（`blog_env`）中执行：
```bash
# 创建Django项目
django-admin startproject blog_backend
cd blog_backend

# 创建接口应用
python manage.py startapp api
```

#### 步骤2：配置项目（`settings.py`）
- 注册应用：`INSTALLED_APPS` 中添加 `'api'、'rest_framework'、'corsheaders'、'drf_yasg'、'json_widget'`
- 跨域配置：`CORS_ALLOWED_ORIGINS = ["http://localhost:5173"]`（允许前端本地地址）
- 数据库配置：
  ```python
  DATABASES = {
      'default': {
          'ENGINE': 'django.db.backends.mysql',
          'NAME': 'blog_db',
          'USER': 'blog_user',
          'PASSWORD': 'blog_password',
          'HOST': 'localhost',
          'PORT': '3306',
      }
  }
  ```
- 媒体文件配置：
  ```python
  MEDIA_URL = '/media/'
  MEDIA_ROOT = BASE_DIR / 'media'  # 图片存储路径
  ```

#### 步骤3：开发数据模型（`models.py`）
- 按3.1节表结构定义模型类，注意：
  - 图片字段使用 `models.ImageField(upload_to='子目录/')`（如轮播图 `upload_to='carousel/'`）
  - `resume` 和 `contact` 用 `models.TextField` 存储JSON字符串
  - 模型类添加 `Meta` 配置（如排序、显示名称）

#### 步骤4：开发序列化器（`serializers.py`）
- 为每个模型创建序列化器，负责数据库数据与接口JSON的转换
- 对 `user_info` 的 `resume` 和 `contact` 字段，需通过 `SerializerMethodField` 解析JSON字符串为列表

#### 步骤5：开发接口视图（`views.py`）
- 使用 `ViewSet` 实现接口逻辑，支持：
  - `user_info`：查询（GET）、修改（PUT）
  - `carousel`/`works`/`hobbies`：增删改查（CRUD）
- 确保接口返回格式统一，支持前端动态加载

#### 步骤6：配置路由与接口文档
- 主路由（`blog_backend/urls.py`）：配置admin、接口路由、Swagger文档路由
- 接口路由（`api/urls.py`）：通过 `DefaultRouter` 注册视图集，映射接口路径（如 `/api/carousel/`）

#### 步骤7：配置后台管理（`admin.py`）
- 注册所有模型到Django Admin，支持可视化管理数据
- 对 `user_info` 的 `resume` 和 `contact` 字段，使用 `JSONEditorWidget` 优化编辑体验
- 轮播图、作品等支持图片上传预览


### 4.3 测试与验证
- 执行数据库迁移：`python manage.py makemigrations api` → `python manage.py migrate`
- 创建超级用户：`python manage.py createsuperuser`（用于登录Admin）
- 启动服务：`python manage.py runserver`
- 验证：
  - 访问 `http://127.0.0.1:8000/admin` 确认后台可管理数据
  - 访问 `http://127.0.0.1:8000/api/carousel/` 确认接口返回数据


## 五、前端开发（Vue3）
### 5.1 项目结构设计
```
blog_frontend/               # 项目根目录
├── public/
├── src/
│   ├── assets/              # 静态资源
│   │   ├── images/          # 樱花背景图、默认图片等
│   │   └── css/             # 全局样式（Tailwind）
│   ├── components/          # 组件
│   │   ├── CherryBlossomAnimation.vue  # 樱花飘落动画
│   │   ├── Carousel.vue     # 轮播图组件
│   │   ├── UserInfoCard.vue # 个人信息组件
│   │   ├── WorksList.vue    # 作品列表组件
│   │   └── HobbiesList.vue  # 爱好列表组件
│   ├── views/               # 页面
│   │   └── HomeView.vue     # 首页（整合所有组件）
│   ├── router/              # 路由配置
│   │   └── index.js
│   ├── utils/               # 工具函数
│   │   └── axios.js         # 接口请求封装
│   ├── App.vue              # 根组件
│   └── main.js              # 入口文件
├── tailwind.config.js       # Tailwind配置
└── package.json             # 依赖配置
```


### 5.2 核心模块开发步骤
#### 步骤1：创建项目与安装依赖
```bash
# 创建Vue3项目（Vite构建）
npm create vite@latest blog_frontend -- --template vue
cd blog_frontend
npm install

# 安装核心依赖
npm install vue-router@4 axios tailwindcss postcss autoprefixer animejs @fortawesome/fontawesome-free
```

#### 步骤2：配置基础环境
- 初始化Tailwind：`npx tailwindcss init -p`，配置`tailwind.config.js`（指定内容路径、自定义樱花主题色）
- 配置路由（`router/index.js`）：仅需首页路由（`/`）
- 封装Axios（`utils/axios.js`）：设置后端接口基础地址（`http://127.0.0.1:8000/api/`），处理响应拦截

#### 步骤3：开发樱花主题视觉效果
##### （1）樱花林背景
- 在`App.vue`中设置全屏背景：
  - 使用樱花林图片（`src/assets/images/cherry-blossom-bg.jpg`）
  - 添加半透明渐变遮罩（避免内容与背景冲突）
  - 实现背景“呼吸效果”（CSS动画：透明度缓慢变化）

##### （2）樱花飘落动画（`CherryBlossomAnimation.vue`）
- 功能：动态创建樱花花瓣元素，实现随机飘落效果
- 实现思路：
  - 使用`animejs`控制花瓣动画（下落轨迹、旋转、速度随机）
  - 花瓣样式：粉色系、随机大小（5-15px）、半透明
  - 性能优化：限制同时显示数量（PC端20片，移动端10片），动画结束后移除元素

#### 步骤4：开发核心功能组件
##### （1）轮播图组件（`Carousel.vue`）
- 功能：全屏轮播、自动切换（5秒间隔）、手动切换（按钮/指示器）、下滑跳转
- 实现要点：
  - 从后端接口（`/api/carousel/`）加载图片
  - 切换动画：淡入淡出（CSS `opacity` + 过渡）
  - 响应式：图片自适应全屏（`object-cover`）

##### （2）个人信息组件（`UserInfoCard.vue`）
- 功能：展示头像、姓名、简介、简历、联系方式（支持跳转）
- 实现要点：
  - 简历展示：按类型（教育/工作）分组，添加渐入动画
  - 联系方式：图标+文字横向排列，点击触发跳转（`mailto:`/链接）
  - 动画：头像hover放大、内容逐项渐显

##### （3）爱好列表组件（`HobbiesList.vue`）
- 功能：展示游戏、音乐、动漫三类爱好（图标+描述）
- 实现要点：
  - 卡片布局：独立卡片，响应式堆叠
  - 动画：初始加载时依次上浮，hover时放大并显示完整描述
  - 图标：使用FontAwesome（游戏手柄、音符、胶片图标）

##### （4）作品列表组件（`WorksList.vue`）
- 功能：网格展示作品（封面图+标题+描述），支持点击查看详情
- 实现要点：
  - 响应式网格：PC端2-3列，移动端1列
  - 动画：卡片hover阴影放大，加载时从下往上渐入


### 5.3 页面整合与测试
- 在`HomeView.vue`中整合所有组件，实现单页滚动布局
- 配置导航栏：固定顶部，滚动时动态调整透明度
- 测试：
  - 接口数据加载是否正常
  - 动画效果是否流畅（无卡顿）
  - 响应式布局是否适配移动端


## 六、联调与测试
### 6.1 前后端联调
- 启动后端服务：`python manage.py runserver`（`http://127.0.0.1:8000`）
- 启动前端服务：`npm run dev`（`http://127.0.0.1:5173`）
- 验证接口交互：
  - 轮播图、个人信息、作品、爱好数据是否正常加载
  - 图片上传（轮播图、头像）是否成功，路径是否正确
  - 数据修改（如个人简介）是否同步到数据库

### 6.2 兼容性测试
- 浏览器：Chrome、Firefox、Edge最新版本
- 设备：PC（1920×1080）、平板（768px宽度）、手机（375px宽度）
- 核心验证点：布局是否错乱、动画是否正常、交互是否可用


## 七、部署与使用说明
### 7.1 环境部署步骤
#### 后端部署
1. 导出依赖：`pip freeze > requirements.txt`
2. 服务器安装Anaconda，创建并激活环境：`conda create -n blog_env python=3.9` → `conda activate blog_env`
3. 安装依赖：`pip install -r requirements.txt`
4. 配置`settings.py`：修改数据库连接（服务器MySQL）、允许跨域域名
5. 迁移数据库：`python manage.py migrate`
6. 启动服务：`python manage.py runserver 0.0.0.0:8000`（生产环境建议用Gunicorn）

#### 前端部署
1. 打包项目：`npm run build`（生成`dist`目录）
2. 服务器部署`dist`目录（可通过Nginx配置静态资源访问）


### 7.2 数据管理说明
- 后台管理地址：`http://服务器地址:8000/admin`（使用超级用户登录）
- 数据修改流程：
  - 轮播图：在“轮播图”管理页上传/替换图片，调整排序
  - 个人信息：在“个人信息”页修改头像、简介、简历（JSON格式）、联系方式
  - 作品/爱好：直接在对应管理页增删改查


## 八、开发验收标准
1. **功能完整性**：
   - 轮播图可自动/手动切换，支持图片更新
   - 个人信息（含简历、联系方式）展示完整，联系方式可跳转
   - 爱好页正确显示游戏、音乐、动漫内容，动画效果正常
   - 作品列表支持动态加载与管理

2. **视觉与交互**：
   - 樱花背景与飘落动画效果流畅，无卡顿
   - 所有组件风格统一（樱花粉主题）
   - 响应式布局在各设备上显示正常

3. **数据交互**：
   - 前后端数据同步正常（修改后台数据，前端实时更新）
   - 图片上传与访问无异常


## 附录：常见问题解决
1. 跨域错误：检查Django `CORS_ALLOWED_ORIGINS` 配置是否包含前端地址
2. 图片访问404：确认Django `MEDIA_URL` 与 `MEDIA_ROOT` 配置正确，前端图片路径使用完整URL
3. 樱花动画卡顿：减少花瓣数量（修改`CherryBlossomAnimation.vue`中的计数逻辑）


通过本文档可按步骤完成项目开发，如需调整功能，可参考对应模块的设计思路进行扩展。